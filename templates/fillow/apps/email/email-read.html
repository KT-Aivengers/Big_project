{% extends 'fillow/elements/layouts/admin.html' %}
{% load static %}
        
{% block additional_css %}
{% endblock %}
        
{% block content %}
<!--**********************************
    Content body start
***********************************-->
<div class="content-body default-height">
    <div class="container-fluid">
        <div class="row page-titles">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Email</a></li>
                <li class="breadcrumb-item active"><a href="javascript:void(0)">Read</a></li>
            </ol>
        </div>
        <!-- row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-xl-3">
                                <div class="email-left-body email-left-box ">
                                    <div class="mb-3 mt-4 mt-sm-0">
                                        <div class="p-0 row">
                                            <div class="col-lg-6">
                                                <a href="{% url 'fillow:email-compose' %}" class="btn btn-primary btn-block col-lg-6">이메일 쓰기</a>
                                            </div>
                                            <div class="col-lg-6">
                                                <a href="{% url 'fillow:email-sent' %}" class="btn btn-primary btn-block">보낸 이메일</a>
                                            </div>
                                        </div>
                                        <div class="mail-list rounded mt-4">
                                            {% if unread_email_count > 0 %}
                                                <a href="{% url 'fillow:email_list' %}" class="list-group-item">
                                                    <i class="fa fa-inbox font-18 align-middle me-2"></i>받은 이메일<span
                                                    class="badge badge-danger text-white badge-sm float-end">{{ unread_email_count }}</span>
                                                </a>
                                            {% else %}
                                                <a href="{% url 'fillow:email_list' %}" class="list-group-item">
                                                    <i class="fa fa-inbox font-18 align-middle me-2"></i>받은 이메일
                                                </a>
                                            {% endif %}
    
                                            <a href="{% url 'fillow:email-list-trash' %}" class="list-group-item"><i
                                                    class="fa fa-trash font-18 align-middle me-2"></i>휴지통</a>
                                        </div>
                                        <div class="mail-list rounded overflow-hidden">
                                            <div class="intro-title d-flex justify-content-between mt-0">
                                                <h5>카테고리</h5>
                                            </div>
                                            <a href="{% url 'fillow:email-inbox' %}" class="list-group-item"><span class="icon-warning"><i
                                                        class="fa fa-circle" aria-hidden="true"></i></span>
                                                Work </a>
                                            <a href="{% url 'fillow:email-inbox' %}" class="list-group-item"><span class="icon-primary"><i
                                                        class="fa fa-circle" aria-hidden="true"></i></span>
                                                Private </a>
                                            <a href="{% url 'fillow:email-inbox' %}" class="list-group-item"><span class="icon-success"><i
                                                        class="fa fa-circle" aria-hidden="true"></i></span>
                                                Support </a>
                                            <a href="{% url 'fillow:email-inbox' %}" class="list-group-item"><span class="icon-dpink"><i
                                                        class="fa fa-circle" aria-hidden="true"></i></span>
                                                Social </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-9 col-xxl-8">
                                <div>
                                    
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="right-box-padding">
                                                <div class="toolbar mb-4" role="toolbar">
                                                    <div class="btn-group mb-1">
                                                        <button type="button" class="btn btn-primary light px-3"><i class="fa fa-reply"></i></button>
                                                        
                                                        <button type="button" class="btn btn-primary light px-3" data-bs-toggle="modal" data-bs-target="#trashModal">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                        <div class="modal fade" id="trashModal" tabindex="-1" aria-labelledby="trashModalLabel" aria-hidden="true">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title" id="trashModalLabel">휴지통으로 이동</h5>
                                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                                    </div>
                                                                    <div class="modal-body">
                                                                        이 이메일을 휴지통으로 이동하시겠습니까?
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                                                                        <a href="{% url 'fillow:email-trash' email.pk %}" class="btn btn-primary">이동</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="btn-group mb-1">
                                                        <button type="button" class="btn btn-primary light dropdown-toggle px-3" data-bs-toggle="dropdown">
                                                            <i class="fa fa-folder"></i> <b class="caret m-l-5"></b>
                                                        </button>
                                                        <div class="dropdown-menu"> 
                                                            <a class="dropdown-item" href="javascript: void(0);">Social</a> 
                                                            <a class="dropdown-item" href="javascript: void(0);">Promotions</a> 
                                                            <a class="dropdown-item" href="javascript: void(0);">Updates</a>
                                                            <a class="dropdown-item" href="javascript: void(0);">Forums</a>
                                                        </div>
                                                    </div>
                                                    <div class="btn-group mb-1">
                                                        <div class="dropdown-menu"> <a class="dropdown-item" href="javascript: void(0);">Mark as Unread</a> <a class="dropdown-item" href="javascript: void(0);">Add to Tasks</a>
                                                            <a class="dropdown-item" href="javascript: void(0);">Add Star</a> <a class="dropdown-item" href="javascript: void(0);">Mute</a>
                                                        </div>
                                                    </div>
                                                    <div class="email-tools-box float-end">
                                                        <i class="fa-solid fa-list-ul"></i>
                                                    </div>
                                                </div>
                                                <div class="read-content">
                                                    <div class="media pt-3 d-sm-flex d-block justify-content-between">
                                                        <div class="clearfix mb-3 d-flex">
                                                            {% if request.user.is_authenticated %}
                                                                {% if email.img %}
                                                                    <img class="me-3 rounded" width="70" height="70" alt="image" src="/media/{{ email.img }}">
                                                                {% else %}
                                                                    <img class="me-3 rounded" width="70" height="70" alt="image" src="{% static 'fillow/images/profile/profile_basic.jpeg' %}">
                                                                {% endif %}
                                                            {% else %}
                                                                <a href='{% url "fillow:page-login" %}'>로그인</a>
                                                            {% endif %}
                                                            <div class="media-body me-2">
                                                                <h5 class="text-primary mb-0 mt-1">{{ email.email_from }}</h5>
                                                                <p class="mb-0">{{ email.email_date|date:"Y M d D H:i" }}</p>
                                                                <p class="mb-0">{{ email.category }}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <hr>
                                                    <div class="media mb-2 mt-3">
                                                        <div class="media-body">
                                                            <h5 class="my-1 text-primary"> {{ email.email_subject }}</h5>
                                                            <p class="read-content-email">
                                                                To: {{ email.email_to }}</p>
                                                            <p class="read-content-email">
                                                                Cc: {{ email.email_cc }}</p>
                                                        </div>
                                                    </div>
                                                    <div class="read-content-body default-height">
                                                        {{ email.email_text_content }}
                                                        <hr>
                                                    </div>
                                                    <div class="read-content-attachment">
                                                        <button class="btn btn-secondary btn-sm"><i class="fa-solid fa-reply me-1"></i>Reply</button>
                                                    </div>
                                                    <hr>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--**********************************
    Content body end
***********************************-->
{% endblock %}

{% block additional_js %}
<script>
        // Initialize tooltips (if not automatically done by Bootstrap 5)
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    });
</script>
{% endblock %}